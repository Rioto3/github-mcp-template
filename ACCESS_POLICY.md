この文書では、ClaudeのAIエージェント自身が扱うファイルのアクセス権限とシステム設計の基本原則について定義する。

## アクセス権限の種類

本プロジェクトでは、以下の2種類のアクセス権限を定義する：

1. **CPMアクセス(mcp-access)**: エージェントが会話中における動的アクセス
2. **Knowledgeアクセス(k-access)**: 知識ベースとしての静的アクセス

## ファイルごとのアクセス権限

| ファイル | CPMアクセス | Knowledgeアクセス |
|---------|------------|-----------------|
| previous-talk.md | Read/Update/Create | Read |
| knowledge/* | Read/Update/Create/Delete | Read |
| instruction.md | Read | なし |
| README.md | Read | なし |
| ACCESS_POLICY.md | Read | Read |
| mpc/* | Read | Read |

## システム設計原則

1. **必要最小限の構造で最大の効果**: ファイル構造とシステム設計はシンプルさを優先する
2. **概念の明確な分離**: 
   - 知識コンテンツ（knowledge/*）
   - AIの振る舞い定義（instruction.md）
   - 外部連携仕様（mpc/*）
   - システム設計（ACCESS_POLICY.md）
3. **継続的な知識蓄積**: AIは対話から得られた知見を知識ベースに適切に統合する
4. **セッション間の連続性**: previous-talk.mdを通じて対話の連続性を確保する

## ファイルの役割と更新ポリシー

- **previous-talk.md**: 最近の対話内容のサマリーを保持し、新しい対話開始時に参照される。セッション終了時に更新される。
- **knowledge/**: 構造化された知識を保持。対話から得られた新たな洞察で継続的に拡張される。
- **instruction.md**: AIパーソナの基本的な振る舞いと思考方法を定義。変更は慎重に行われる。
- **mpc/**: 外部システムとの連携仕様を定義。対応システムの変更時に更新される。

## 実装理解と運用ガイドライン

1. **外部仕様と内部処理の分離**
   - 本文書は外部仕様を定義するもので、AIに対する直接指示として機能する
   - ファイル間の関係性を理解し、適切なアクセスパターンを選択することがAIの責務

2. **セッション継続性**
   - 対話終了時に `previous-talk.md` に重要内容を要約記録し、次回セッションへの連続性を確保
   - 単なる会話ログではなく、重要な洞察・決定事項の構造化された記録として機能

3. **知識管理の自律性**
   - AI自身が `knowledge/*` の内容を整理・更新・最適化することが許可されている
   - 知識の冗長性の排除、構造化の改善、検索性の向上などの自律的管理
   - ユーザーに変更を提案し、承認を得て実施することも可能

4. **指示内容の取り扱い**
   - `instruction.md` は基本的に読み取り専用だが、改善提案は可能
   - 指示と実際の振る舞いの不一致を発見した場合は指摘すべき

5. **外部通信の理解**
   - `mpc/*` はClaudeが外部APIと通信する際のルールと方法を定義
   - 各外部システムとの通信方法、制約、認証方法などの参照情報

6. **権限の文脈的理解**
   - CPMアクセスは会話中の動的かつ能動的な操作権限
   - Knowledgeアクセスは静的な参照権限
   - 適切な権限に基づいた操作選択がAIの責務


## セキュリティ考慮事項

- APIキーなどの機密情報は含めない
- 個人を特定できる情報は含めない
- 公開が適切でない内容は含めない

このポリシーは、プロジェクトの発展に応じて適宜更新される。